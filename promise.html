<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
        <h4></h4>
        <script>
            // [] is array, {} is object
            const students = [
                {
                    name: 'Jen Grg', age: 20
                },
                {
                    name: 'Pan Grg', age: 19
                },
                {
                    name: 'Ken Grg', age: 12
                }
            ]
            //   function inside another function is callback function
            const showStudent = () => {
                setTimeout(() => {
                    let result = ""
                    students.forEach(info => {
                        result += `<ul>
                            <li>${info.name}</li>
                            </ul>`
                    })
                    document.querySelector('h4').innerHTML = `${result}`

                }, 2000)
            }
            //   showStudent()
            //   const addStudent = newdata =>{
            //     setTimeout(()=>{
            //         students.push(newdata)
            //     }, 3000)
            //   }
            //   if the time is greater than showstudent in this case of calling separately, the fucntiion will not work
            const addStudent = (newdata, callback) => {
                // promise has two parameters resolve and reject, where error is shown in reject and process occurs in resolve
                return new Promise((resolve,reject)=>{
                     setTimeout(() => {
                        students.push(newdata)
                         const error = false
                         if (!error) {
                             resolve()
                         }
                         else {
                             reject("Something is wrong")
                         }
                    }, 2000)
                })
                // setTimeout(() => {
                //     students.push(newdata)
                //     callback()
                // }, 3000)
            }
            //   call add function
            addStudent({ name: 'Krishma Khadgi', age: 21 })
            .then(showStudent)
            .catch(err=>console.log(err))
        </script>
</body>
</html>